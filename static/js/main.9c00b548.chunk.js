(this["webpackJsonpreceipt-book"]=this["webpackJsonpreceipt-book"]||[]).push([[0],{298:function(e,t,n){"use strict";n.r(t);var a=n(68),r=n(0),i=n.n(r),c=n(11),s=n.n(c),o=n(12),l=n(23),j=n.p+"static/media/loading.d46b79ec.svg",u=n(4),d=function(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("img",{src:j,alt:"Loading..."})})},b=n(162),h=n(328),m=n(358),x=n(331),p=n(301),O=n(361),f=n(334),g=n(354),v=n(332),C=n(329),P=n(336),y=n(339),S=n(159),k=n(70),I=n(19),W=n(351),N=n(160),w=n(20),T=n.n(w),F={getWsStatus:function(e){T.a.JSPrintManager.auto_reconnect=!0,T.a.JSPrintManager.start(),T.a.JSPrintManager.WS.onOpen=function(){return e(T.a.WSStatus[T.a.JSPrintManager.WS.status])},T.a.JSPrintManager.WS.onStatusChanged=function(){return e(T.a.WSStatus[T.a.JSPrintManager.WS.status])},T.a.JSPrintManager.WS.onClose=function(){return e(T.a.WSStatus[T.a.JSPrintManager.WS.status])}},getInstalledPrinters:function(e){T.a.JSPrintManager.getPrinters().then((function(t){return e(t)}))},getClientPrinter:function(e){return new T.a.InstalledPrinter(e)},createPrintCommands:function(e){var t="\n",n="\x1b@";return n+="\x1b!8",n+="\n\n\n\n",n+="                    ".concat(e.tokenNumber,"                      ").concat(e.receiptDate.toDateString()),n+=t,n+="                    ".concat(e.partyName),n+=t,n+="                    ".concat(e.sampleType),n+=t,n+="                    ".concat(e.finenessInPercent),n+=t,n+="                    ".concat(e.finenessInCarat),n+=t,n+="                    ".concat(e.specialInformation),n+=t,n+="                    ".concat(e.testDate.toDateString(),"                    ").concat(e.checkedBy)},doPrinting:function(e){if(!e.clientPrinter)return alert("Please setup the printer first."),!1;var t=new T.a.ClientPrintJob;t.clientPrinter=e.clientPrinter,t.printerCommands=e.printerCommands,t.sendToClient()}},M={clientPrinter:null,printerCommands:null,setClientPrinter:function(e){M.clientPrinter=e},setPrinterCommands:function(e){M.printerCommands=e},reset:function(){M.printerCommands=null}},J=i.a.createContext(),D=function(){return i.a.useContext(J)},L=function(e){var t=e.children;return Object(u.jsx)(J.Provider,{value:M,children:t})},R=function(){var e=D(),t=k.b().shape({tokenNumber:k.a().required("Required"),partyName:k.c().required("Required"),sampleType:k.c().required("Required"),finenessInPercent:k.a().min(0).max(100,"Invalid").required("Required")}),n=Object(S.a)({initialValues:{tokenNumber:"",partyName:"",sampleType:"",finenessInPercent:"",finenessInCarat:"",specialInformation:"",testDate:new Date,receiptDate:new Date,checkedBy:"SJ"},validationSchema:t,onSubmit:function(t){e.setPrinterCommands(F.createPrintCommands(t)),F.doPrinting(e),e.reset(),n.resetForm(n.initialValues)}});return i.a.useEffect((function(){var e;n.values.finenessInPercent&&(n.values.finenessInCarat=(e=n.values.finenessInPercent)?24*e/100:"")})),Object(u.jsx)("div",{children:Object(u.jsx)(i.a.Fragment,{children:Object(u.jsx)("form",{onSubmit:n.handleSubmit,children:Object(u.jsx)(b.a,{style:{padding:14},children:Object(u.jsxs)(h.a,{container:!0,spacing:1,children:[Object(u.jsxs)(h.a,{item:!0,xs:12,children:[Object(u.jsx)(m.a,{id:"tokenNumber",name:"tokenNumber",label:"Token #",value:n.values.tokenNumber,onChange:n.handleChange,fullWidth:!0}),n.errors.tokenNumber?n.errors.tokenNumber:null]}),Object(u.jsxs)(h.a,{item:!0,xs:12,children:[Object(u.jsx)(m.a,{id:"partyName",name:"partyName",label:"Party Name",value:n.values.partyName,onChange:n.handleChange,fullWidth:!0}),n.errors.partyName?n.errors.partyName:null]}),Object(u.jsxs)(h.a,{item:!0,xs:12,children:[Object(u.jsxs)(x.a,{component:"fieldset",fullWidth:!0,children:[Object(u.jsx)(p.a,{component:"legend",children:"Type of Sample"}),Object(u.jsxs)(O.a,{row:!0,name:"sampleType",value:n.values.sampleType,onChange:n.handleChange,children:[Object(u.jsx)(f.a,{value:"Cut-bit",control:Object(u.jsx)(g.a,{}),label:"Cut-bit"}),Object(u.jsx)(f.a,{value:"TM",control:Object(u.jsx)(g.a,{}),label:"TM"})]})]}),n.errors.sampleType?n.errors.sampleType:null]}),Object(u.jsxs)(h.a,{item:!0,xs:6,children:[Object(u.jsxs)(x.a,{variant:"standard",fullWidth:!0,children:[Object(u.jsx)(v.a,{htmlFor:"finenessInPercent",children:"Fineness"}),Object(u.jsx)(C.a,{id:"finenessInPercent",endAdornment:Object(u.jsx)(P.a,{position:"end",children:"%"}),value:n.values.finenessInPercent,onChange:n.handleChange,fullWidth:!0})]}),n.errors.finenessInPercent?n.errors.finenessInPercent:null]}),Object(u.jsx)(h.a,{item:!0,xs:6,children:Object(u.jsxs)(x.a,{variant:"standard",fullWidth:!0,children:[Object(u.jsx)(v.a,{htmlFor:"finenessInCarat",children:"Fineness"}),Object(u.jsx)(C.a,{readOnly:!0,id:"finenessInCarat",endAdornment:Object(u.jsx)(P.a,{position:"end",children:"Ct"}),value:n.values.finenessInCarat,onChange:n.handleChange,fullWidth:!0})]})}),Object(u.jsx)(h.a,{item:!0,xs:12,children:Object(u.jsx)(m.a,{id:"specialInformation",label:"Special Information",multiline:!0,rows:3,variant:"standard",value:n.values.specialInformation,onChange:n.handleChange,fullWidth:!0})}),Object(u.jsx)(h.a,{item:!0,xs:12,children:Object(u.jsx)(I.a,{utils:N.a,children:Object(u.jsx)(W.a,{disableToolbar:!0,fullWidth:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"testDate",label:"Test Date",value:n.values.testDate,onChange:n.handleChange,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(u.jsx)(h.a,{item:!0,xs:4,children:Object(u.jsx)(y.a,{variant:"outlined",type:"submit",children:"Print"})})]})})})})})},B=function(){return Object(u.jsx)(R,{})},E=n(114),A=n(161),q=function(e){var t=e.layout,n=e.component,a=Object(A.a)(e,["layout","component"]);return Object(u.jsx)(o.b,Object(E.a)(Object(E.a)({},a),{},{render:function(e){return t?i.a.createElement(t,e,i.a.createElement(Object(l.c)(n,{onRedirecting:function(){return Object(u.jsx)(d,{})}}),e)):i.a.createElement(Object(l.c)(n,{onRedirecting:function(){return Object(u.jsx)(d,{})}}),e)}}))},z=n(341),H=n(342),U=n(343),V=n(61),K=function(){var e=Object(l.b)().user,t=e.name,n=e.picture,a=e.email;return Object(u.jsxs)(z.a,{sx:{maxWidth:150},children:[Object(u.jsx)(H.a,{height:"140px",width:"160px",component:"img",alt:t,image:n}),Object(u.jsxs)(U.a,{children:[Object(u.jsx)(V.a,{gutterBottom:!0,variant:"h5",component:"div",children:t}),Object(u.jsx)(V.a,{variant:"body2",children:a})]})]})},Q=function(){return(0,Object(l.b)().logout)({returnTo:"".concat("https://saurabh-workhub.github.io/receipt-book-site")})},Y=function(){var e=Object(l.b)(),t=e.isAuthenticated,n=e.loginWithRedirect;return Object(r.useEffect)((function(){t?o.a:n({redirectUri:"".concat("https://saurabh-workhub.github.io/receipt-book-site","/home")})})),null},Z=n(31),_=n(344),G=n(345),X=n(156),$=n.n(X),ee=function(){return Object(u.jsxs)(b.a,{children:[Object(u.jsx)(V.a,{variant:"h4",component:"h4",children:"Download & Install Client App"}),Object(u.jsx)(_.a,{}),Object(u.jsxs)(V.a,{children:["It seems that ",Object(u.jsx)("strong",{children:"Client App is not installed or not running"})," in this machine!",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("strong",{children:"Client App"})," is a small utility (",Object(u.jsx)("strong",{children:Object(u.jsx)("em",{children:"without any dependencies"})}),") that handles all the ",Object(u.jsx)("strong",{children:"Print Jobs"})," and runs on ",Object(u.jsx)("strong",{children:"Windows, Linux, Mac & Raspberry Pi"})," devices!"]}),Object(u.jsxs)(V.a,{variant:"h6",component:"h6",children:[Object(u.jsx)(G.a,{href:"//neodynamic.com/downloads/jspm",children:" Download Client App..."}),Object(u.jsx)($.a,{})," Browser needs to be restarted after package installation! Firefox-based browser must be closed (all open instances) before installing utility."]})]})},te=function(){return Object(u.jsxs)(b.a,{children:[Object(u.jsx)(V.a,{variant:"h4",component:"h4",children:"This site is blocked!"}),Object(u.jsx)(_.a,{}),"This website is",Object(u.jsx)("strong",{children:"blocked and cannot print through JSPrintManager"})]})},ne=n(353),ae=n(346),re=function(e){var t=i.a.useState([]),n=Object(Z.a)(t,2),a=n[0],r=n[1],c=i.a.useState(),s=Object(Z.a)(c,2),o=s[0],l=s[1];i.a.useEffect((function(){F.getInstalledPrinters(r)}),[]);return Object(u.jsxs)(x.a,{fullWidth:!0,children:[Object(u.jsx)(v.a,{id:"demo-simple-select-label",children:"Select an installed Printer:"}),Object(u.jsx)(ne.a,{labelId:"printers-label",id:"installedPrinterName",label:"Printers",value:o||"",onChange:function(t){l(t.target.value),e.onPrinterChange(t.target.value)},children:null===a||void 0===a?void 0:a.map((function(e){return Object(u.jsx)(ae.a,{value:e,children:e},e)}))})]})},ie=function(){var e=i.a.useState(null),t=Object(Z.a)(e,2),n=t[0],a=t[1],r=D();i.a.useEffect((function(){F.getWsStatus(a)}),[]);return"Open"===n?Object(u.jsx)(re,{onPrinterChange:function(e){return r.setClientPrinter(F.getClientPrinter(e))}}):"Closed"===n?Object(u.jsx)(ee,{}):"Blocked"===n?Object(u.jsx)(te,{}):Object(u.jsxs)(V.a,{variant:"h6",component:"div",children:[Object(u.jsx)(d,{}),Object(u.jsx)(_.a,{}),"Waiting for user response...."]})},ce=n(337),se=n(352),oe=n(350),le=n(347),je=n(340),ue=n(34),de=Object(ce.a)((function(){return{header:{backgroundColor:"#400CCC",paddingRight:"79px",paddingLeft:"118px"},logo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"#FFFEFE",textAlign:"left"},menuButton:{fontFamily:"Open Sans, sans-serif",size:"18px",marginLeft:"38px"},toolbar:{display:"flex",justifyContent:"space-between"}}})),be=function(){var e=[{label:"My Account",href:"/account"},{label:"Log Out",href:"/logout"}],t=de(),n=t.header,a=t.logo,r=t.menuButton,i=t.toolbar,c=Object(u.jsx)(V.a,{variant:"h6",component:"h1",className:a,children:"Logo"});return Object(u.jsx)("header",{children:Object(u.jsx)(le.a,{position:"fixed",className:n,children:Object(u.jsxs)(je.a,{className:i,children:[c,Object(u.jsx)("div",{children:e.map((function(e){var t=e.label,n=e.href;return Object(u.jsx)(y.a,{key:t,color:"inherit",to:n,component:ue.b,className:r,children:t})}))})]})})})},he=n(362),me=n(333),xe=n(303),pe=n(348),Oe=n(349),fe=n(158),ge=n.n(fe),ve=n(157),Ce=n.n(ve),Pe=function(){return Object(u.jsxs)(he.a,{variant:"permanent",anchor:"left",children:[Object(u.jsx)(je.a,{}),Object(u.jsx)(_.a,{}),Object(u.jsxs)(me.a,{children:[Object(u.jsxs)(xe.a,{button:!0,to:"/printer",component:ue.b,children:[Object(u.jsx)(pe.a,{primary:"Setup Printer"}),Object(u.jsx)(Oe.a,{children:Object(u.jsx)(Ce.a,{})})]},"Printer"),Object(u.jsxs)(xe.a,{button:!0,to:"/home",component:ue.b,children:[Object(u.jsx)(pe.a,{primary:"Home"}),Object(u.jsx)(Oe.a,{children:Object(u.jsx)(ge.a,{})})]},"Home")]})]})},ye=Object(ce.a)((function(){return{container:{display:"flex",flex:1,paddingTop:"100px"},nav:{width:20}}})),Se=function(e){var t=e.children,n=ye(),a=n.container,r=n.nav;return Object(u.jsxs)(se.a,{sx:{display:"flex"},children:[Object(u.jsx)(be,{}),Object(u.jsx)(oe.a,{component:"nav",className:r,children:Object(u.jsx)(Pe,{})}),Object(u.jsx)(oe.a,{component:"main",className:a,children:t})]})};var ke=function(){return Object(l.b)().isLoading?Object(u.jsx)(d,{}):Object(u.jsx)(L,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/",exact:!0,component:Y}),Object(u.jsx)(q,{path:"/home",component:B,layout:Se}),Object(u.jsx)(q,{path:"/printer",component:ie,layout:Se}),Object(u.jsx)(q,{path:"/account",component:K,layout:Se}),Object(u.jsx)(q,{path:"/logout",component:Q})]})})},Ie=n(5),We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,363)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},Ne=function(e){var t=e.children,n=Object(o.g)();return Object(u.jsx)(l.a,{domain:"dev-6bptmyvi.us.auth0.com",clientId:"bZLLiNmTrF4TRJQwfCtoLSjDjYvtJrbM",redirectUri:"".concat("https://saurabh-workhub.github.io/receipt-book-site","/home"),onRedirectCallback:function(e){n.push("home")},children:t})},we=Object(Ie.a)((function(e){var t;return{"@global":{html:(t={fontSize:13},Object(a.a)(t,e.breakpoints.up("sm"),{fontSize:12}),Object(a.a)(t,e.breakpoints.up("md"),{fontSize:12}),Object(a.a)(t,e.breakpoints.up("lg"),{fontSize:12}),t)}}}))(ke);s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(ue.a,{basename:"/".concat("receipt-book-site"),children:Object(u.jsx)(Ne,{children:Object(u.jsx)(we,{})})})}),document.getElementById("root")),We()}},[[298,1,2]]]);
//# sourceMappingURL=main.9c00b548.chunk.js.map